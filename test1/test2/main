#include "main.h"
char *_getline(void)
{
	ssize_t get;
	size_t n = 0;
	char *str = NULL;

	get = getline(&str, &n, stdin);
	str[strcspn(str, "\n")] = '\0';
	if (get == -1)
		return (NULL);

	return (str);
}
#include "main.h"

/**
 * display - displays prompt to the user
 * Return: nothing is returned
 */

void display(void)
{
	int active = isatty(STDIN_FILENO);

	char *prompt = "$ ";

	if (active == 1)
		write(STDOUT_FILENO, prompt, strlen(prompt));
}
#include "main.h"
char *path(char *tokens[])
{
        char *check = NULL, *get_path = NULL, *path = NULL, *tmp = NULL, *slash = "/";
        char *parse = NULL, *command = NULL, *tmp1 = NULL, *parsed = NULL;
        char *tmp2 = NULL;

        check = strchr(tokens[0], '/');
        if (check != NULL)
                return (tokens[0]);
        get_path = getenv("PATH");
        if (get_path == NULL)
        {
                perror("unable to get path");
                return (NULL);
        }
        path = strdup(get_path);
        parse = strtok(path, ":");
        while (parse != NULL)
        {
                parsed = strdup(parse);
                tmp = malloc(sizeof(char) * strlen(parsed) + strlen(slash) + 3);
                if (tmp == NULL)
                        return (NULL);
                                         }
        path = strdup(get_path);
        parse = strtok(path, ":");
        while (parse != NULL)
        {
                parsed = strdup(parse);
                tmp = malloc(sizeof(char) * strlen(parsed) + strlen(slash) + 3);
                if (tmp == NULL)
                        return (NULL);
                tmp1 = strcpy(tmp, parsed);
                tmp2 = strcat(tmp1, slash);
                command = strcat(tmp2, tokens[0]);
                if (access(command, F_OK) == 0)
                        break;
                else if (access(command, F_OK) != 0)
                {
                        free(parsed);
                        free(command);
                }
                parse = strtok(NULL, ":");
        }
        if (parse == NULL)
        {
                perror("command not found");
                free(path);
		free(parsed);
		return (NULL);
        }
        free(path);
        free(parsed);
        return (command);
}
#include "main.h"
char **_tokenize(char *str)
{
        char **parsed = NULL;

        int i = 0;

        char *token = NULL;

        parsed = malloc(sizeof(char *) * strlen(str) + 1);
        if (parsed == NULL)
                return (NULL);
        token = strtok(str, " ");
        while (token != NULL)
        {
                parsed[i] = token;
                i++;
                token = strtok(NULL, " ");
        }
        parsed[i] = NULL;
        return (parsed);
}
#include "main.h"
int main(void)
{
	char *tokens[]= {"ls", "-l", NULL};
	char *line = NULL, *command = NULL;
	int status;
	pid_t pid;

	while (1)
	{
		display();
		line = _getline();
		if (line == NULL)
		{
			write(STDOUT_FILENO, "\n", 1);
			break;
		}
		//tokens = _tokenize(line);
		command = path(tokens);
		printf("\n%s",command);
		
	}
	free(line);
	return (0);
}
